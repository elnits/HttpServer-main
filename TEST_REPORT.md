# –û—Ç—á–µ—Ç –æ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–∏ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è

–î–∞—Ç–∞: 2025-11-13
–í–µ—Ä—Å–∏—è: 1.0

## –†–µ–∑—É–ª—å—Ç–∞—Ç—ã —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è API

### ‚úÖ –†–∞–±–æ—Ç–∞—é—â–∏–µ endpoints (3/7)

1. **GET /health** - ‚úì PASS (200)
   - –°–µ—Ä–≤–µ—Ä –æ—Ç–≤–µ—á–∞–µ—Ç –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ
   - –í–æ–∑–≤—Ä–∞—â–∞–µ—Ç —Å—Ç–∞—Ç—É—Å "healthy"

2. **GET /api/normalization/status** - ‚úì PASS (200)
   - –°—Ç–∞—Ç—É—Å –Ω–æ—Ä–º–∞–ª–∏–∑–∞—Ü–∏–∏ –¥–æ—Å—Ç—É–ø–µ–Ω
   - –í–æ–∑–≤—Ä–∞—â–∞–µ—Ç –∫–æ—Ä—Ä–µ–∫—Ç–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ

3. **GET /api/normalization/stats** - ‚úì PASS (200)
   - –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –Ω–æ—Ä–º–∞–ª–∏–∑–∞—Ü–∏–∏ –¥–æ—Å—Ç—É–ø–Ω–∞
   - –í–æ–∑–≤—Ä–∞—â–∞–µ—Ç –∫–æ—Ä—Ä–µ–∫—Ç–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ

### ‚ùå –ù–µ —Ä–∞–±–æ—Ç–∞—é—â–∏–µ endpoints (4/7)

1. **GET /api/database/info** - ‚úó FAIL (404)
   - **–ü—Ä–∏—á–∏–Ω–∞**: Backend —Å–µ—Ä–≤–µ—Ä –Ω–µ –ø–µ—Ä–µ–∑–∞–ø—É—â–µ–Ω –ø–æ—Å–ª–µ –∏–∑–º–µ–Ω–µ–Ω–∏–π
   - **–†–µ—à–µ–Ω–∏–µ**: –ü–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏—Ç—å backend —Å–µ—Ä–≤–µ—Ä

2. **GET /api/clients** - ‚úó FAIL (404)
   - **–ü—Ä–∏—á–∏–Ω–∞**: Backend —Å–µ—Ä–≤–µ—Ä –Ω–µ –ø–µ—Ä–µ–∑–∞–ø—É—â–µ–Ω –ø–æ—Å–ª–µ –∏–∑–º–µ–Ω–µ–Ω–∏–π
   - **–†–µ—à–µ–Ω–∏–µ**: –ü–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏—Ç—å backend —Å–µ—Ä–≤–µ—Ä

3. **POST /api/clients** - ‚úó FAIL (404)
   - **–ü—Ä–∏—á–∏–Ω–∞**: Backend —Å–µ—Ä–≤–µ—Ä –Ω–µ –ø–µ—Ä–µ–∑–∞–ø—É—â–µ–Ω –ø–æ—Å–ª–µ –∏–∑–º–µ–Ω–µ–Ω–∏–π
   - **–†–µ—à–µ–Ω–∏–µ**: –ü–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏—Ç—å backend —Å–µ—Ä–≤–µ—Ä

4. **GET /api/databases/list** - ‚úó FAIL (404)
   - **–ü—Ä–∏—á–∏–Ω–∞**: Backend —Å–µ—Ä–≤–µ—Ä –Ω–µ –ø–µ—Ä–µ–∑–∞–ø—É—â–µ–Ω –ø–æ—Å–ª–µ –∏–∑–º–µ–Ω–µ–Ω–∏–π
   - **–†–µ—à–µ–Ω–∏–µ**: –ü–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏—Ç—å backend —Å–µ—Ä–≤–µ—Ä

## –ê–Ω–∞–ª–∏–∑ –∫–æ–¥–∞

### ‚úÖ –ú–∞—Ä—à—Ä—É—Ç—ã –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã –≤ –∫–æ–¥–µ

–ü—Ä–æ–≤–µ—Ä–∫–∞ `server/server.go` –ø–æ–∫–∞–∑–∞–ª–∞, —á—Ç–æ –≤—Å–µ –º–∞—Ä—à—Ä—É—Ç—ã –ø—Ä–∞–≤–∏–ª—å–Ω–æ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã:

- –°—Ç—Ä–æ–∫–∞ 112: `mux.HandleFunc("/api/database/info", s.handleDatabaseInfo)`
- –°—Ç—Ä–æ–∫–∞ 113: `mux.HandleFunc("/api/databases/list", s.handleDatabasesList)`
- –°—Ç—Ä–æ–∫–∞ 117: `mux.HandleFunc("/api/clients", s.handleClients)`
- –°—Ç—Ä–æ–∫–∞ 118: `mux.HandleFunc("/api/clients/", s.handleClientRoutes)`

### ‚úÖ –û–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω—ã

–í—Å–µ –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –¥–ª—è –∫–ª–∏–µ–Ω—Ç–æ–≤ —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω—ã:
- `handleClients` - –æ–±—Ä–∞–±–æ—Ç–∫–∞ GET/POST /api/clients
- `handleClientRoutes` - –æ–±—Ä–∞–±–æ—Ç–∫–∞ –≤–ª–æ–∂–µ–Ω–Ω—ã—Ö –º–∞—Ä—à—Ä—É—Ç–æ–≤
- `handleGetClients` - –ø–æ–ª—É—á–µ–Ω–∏–µ —Å–ø–∏—Å–∫–∞ –∫–ª–∏–µ–Ω—Ç–æ–≤
- `handleCreateClient` - —Å–æ–∑–¥–∞–Ω–∏–µ –∫–ª–∏–µ–Ω—Ç–∞
- `handleGetClient` - –ø–æ–ª—É—á–µ–Ω–∏–µ –∫–ª–∏–µ–Ω—Ç–∞ –ø–æ ID
- `handleUpdateClient` - –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ –∫–ª–∏–µ–Ω—Ç–∞
- `handleDeleteClient` - —É–¥–∞–ª–µ–Ω–∏–µ –∫–ª–∏–µ–Ω—Ç–∞
- `handleGetClientProjects` - –ø–æ–ª—É—á–µ–Ω–∏–µ –ø—Ä–æ–µ–∫—Ç–æ–≤ –∫–ª–∏–µ–Ω—Ç–∞
- `handleCreateClientProject` - —Å–æ–∑–¥–∞–Ω–∏–µ –ø—Ä–æ–µ–∫—Ç–∞
- `handleGetClientProject` - –ø–æ–ª—É—á–µ–Ω–∏–µ –ø—Ä–æ–µ–∫—Ç–∞
- `handleUpdateClientProject` - –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ –ø—Ä–æ–µ–∫—Ç–∞
- `handleDeleteClientProject` - —É–¥–∞–ª–µ–Ω–∏–µ –ø—Ä–æ–µ–∫—Ç–∞
- `handleGetClientBenchmarks` - –ø–æ–ª—É—á–µ–Ω–∏–µ —ç—Ç–∞–ª–æ–Ω–æ–≤
- `handleCreateClientBenchmark` - —Å–æ–∑–¥–∞–Ω–∏–µ —ç—Ç–∞–ª–æ–Ω–∞
- `handleStartClientNormalization` - –∑–∞–ø—É—Å–∫ –Ω–æ—Ä–º–∞–ª–∏–∑–∞—Ü–∏–∏
- `handleStopClientNormalization` - –æ—Å—Ç–∞–Ω–æ–≤–∫–∞ –Ω–æ—Ä–º–∞–ª–∏–∑–∞—Ü–∏–∏
- `handleGetClientNormalizationStatus` - —Å—Ç–∞—Ç—É—Å –Ω–æ—Ä–º–∞–ª–∏–∑–∞—Ü–∏–∏
- `handleGetClientNormalizationStats` - —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –Ω–æ—Ä–º–∞–ª–∏–∑–∞—Ü–∏–∏

## Frontend –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã

### ‚úÖ –†–µ–∞–ª–∏–∑–æ–≤–∞–Ω–Ω—ã–µ —Å—Ç—Ä–∞–Ω–∏—Ü—ã

1. `/clients` - —Å–ø–∏—Å–æ–∫ –∫–ª–∏–µ–Ω—Ç–æ–≤
2. `/clients/new` - —Å–æ–∑–¥–∞–Ω–∏–µ –∫–ª–∏–µ–Ω—Ç–∞
3. `/clients/[clientId]` - –ø—Ä–æ—Ñ–∏–ª—å –∫–ª–∏–µ–Ω—Ç–∞
4. `/clients/[clientId]/projects` - —Å–ø–∏—Å–æ–∫ –ø—Ä–æ–µ–∫—Ç–æ–≤
5. `/clients/[clientId]/projects/new` - —Å–æ–∑–¥–∞–Ω–∏–µ –ø—Ä–æ–µ–∫—Ç–∞
6. `/clients/[clientId]/projects/[projectId]` - –¥–µ—Ç–∞–ª–∏ –ø—Ä–æ–µ–∫—Ç–∞
7. `/clients/[clientId]/projects/[projectId]/benchmarks` - —ç—Ç–∞–ª–æ–Ω—ã
8. `/clients/[clientId]/projects/[projectId]/normalization` - –Ω–æ—Ä–º–∞–ª–∏–∑–∞—Ü–∏—è

### ‚úÖ API Routes –≤ Next.js

–í—Å–µ API routes —Å–æ–∑–¥–∞–Ω—ã –∏ –ø—Ä–∞–≤–∏–ª—å–Ω–æ –ø—Ä–æ–∫—Å–∏—Ä—É—é—Ç –∑–∞–ø—Ä–æ—Å—ã:
- `/api/clients` - GET, POST
- `/api/clients/[clientId]` - GET, PUT, DELETE
- `/api/clients/[clientId]/projects` - GET, POST
- `/api/clients/[clientId]/projects/[projectId]` - GET, PUT, DELETE
- `/api/clients/[clientId]/projects/[projectId]/benchmarks` - GET, POST
- `/api/clients/[clientId]/projects/[projectId]/normalization/start` - POST
- `/api/clients/[clientId]/projects/[projectId]/normalization/status` - GET
- `/api/clients/[clientId]/projects/[projectId]/normalization/stop` - POST

## –ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö

### ‚úÖ –°–µ—Ä–≤–∏—Å–Ω–∞—è –ë–î

- –§–∞–π–ª: `service.db`
- –¢–∞–±–ª–∏—Ü—ã —Å–æ–∑–¥–∞–Ω—ã:
  - `clients` - –∫–ª–∏–µ–Ω—Ç—ã
  - `client_projects` - –ø—Ä–æ–µ–∫—Ç—ã –∫–ª–∏–µ–Ω—Ç–æ–≤
  - `client_benchmarks` - —ç—Ç–∞–ª–æ–Ω–Ω—ã–µ –∑–∞–ø–∏—Å–∏
  - `client_normalization_sessions` - —Å–µ—Å—Å–∏–∏ –Ω–æ—Ä–º–∞–ª–∏–∑–∞—Ü–∏–∏

### ‚úÖ –ú–µ—Ç–æ–¥—ã —Ä–∞–±–æ—Ç—ã —Å –ë–î

–í—Å–µ CRUD –æ–ø–µ—Ä–∞—Ü–∏–∏ —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω—ã –≤ `database/service_db.go`:
- –ö–ª–∏–µ–Ω—Ç—ã: Create, Get, Update, Delete, GetClientsWithStats
- –ü—Ä–æ–µ–∫—Ç—ã: Create, Get, GetProjects, Update, Delete
- –≠—Ç–∞–ª–æ–Ω—ã: Create, Get, Find, GetBenchmarks, UpdateUsage, Approve

## –ù–æ—Ä–º–∞–ª–∏–∑–∞—Ü–∏—è

### ‚úÖ –ö–ª–∏–µ–Ω—Ç—Å–∫–∏–π –Ω–æ—Ä–º–∞–ª–∏–∑–∞—Ç–æ—Ä

- –§–∞–π–ª: `normalization/client_normalizer.go`
- –ò—Å–ø–æ–ª—å–∑—É–µ—Ç —ç—Ç–∞–ª–æ–Ω—ã –∫–ª–∏–µ–Ω—Ç–∞ –ø–µ—Ä–µ–¥ –±–∞–∑–æ–≤–æ–π –Ω–æ—Ä–º–∞–ª–∏–∑–∞—Ü–∏–µ–π
- –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ —Å–æ–∑–¥–∞–µ—Ç –Ω–æ–≤—ã–µ —ç—Ç–∞–ª–æ–Ω—ã –ø—Ä–∏ –≤—ã—Å–æ–∫–æ–º –∫–∞—á–µ—Å—Ç–≤–µ
- –û—Ç—Å–ª–µ–∂–∏–≤–∞–µ—Ç –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ —ç—Ç–∞–ª–æ–Ω–æ–≤

### ‚úÖ –•—Ä–∞–Ω–∏–ª–∏—â–µ —ç—Ç–∞–ª–æ–Ω–æ–≤

- –§–∞–π–ª: `normalization/client_benchmark_store.go`
- –ö—ç—à–∏—Ä–æ–≤–∞–Ω–∏–µ —ç—Ç–∞–ª–æ–Ω–æ–≤ –¥–ª—è –±—ã—Å—Ç—Ä–æ–≥–æ –ø–æ–∏—Å–∫–∞
- –ú–µ—Ç–æ–¥—ã –ø–æ–∏—Å–∫–∞ –∏ —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏—è —ç—Ç–∞–ª–æ–Ω–æ–≤

## –†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏

### üî¥ –ö—Ä–∏—Ç–∏—á–Ω–æ

1. **–ü–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏—Ç—å backend —Å–µ—Ä–≤–µ—Ä**
   ```bash
   # –û—Å—Ç–∞–Ω–æ–≤–∏—Ç—å —Ç–µ–∫—É—â–∏–π –ø—Ä–æ—Ü–µ—Å—Å (Ctrl+C)
   # –ó–∞—Ç–µ–º –∑–∞–ø—É—Å—Ç–∏—Ç—å:
   go run main_no_gui.go
   ```
   
   –ò–ª–∏ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å —Å–∫—Ä–∏–ø—Ç:
   ```bash
   start-backend.bat
   ```

### üü° –í–∞–∂–Ω–æ

2. **–ü—Ä–æ–≤–µ—Ä–∏—Ç—å —Ä–∞–±–æ—Ç—É –ø–æ—Å–ª–µ –ø–µ—Ä–µ–∑–∞–ø—É—Å–∫–∞**
   - –ó–∞–ø—É—Å—Ç–∏—Ç—å `test-api.ps1` –¥–ª—è –ø—Ä–æ–≤–µ—Ä–∫–∏ –≤—Å–µ—Ö endpoints
   - –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —Å–æ–∑–¥–∞–Ω–∏–µ –∫–ª–∏–µ–Ω—Ç–∞ —á–µ—Ä–µ–∑ UI
   - –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —Å–æ–∑–¥–∞–Ω–∏–µ –ø—Ä–æ–µ–∫—Ç–∞
   - –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –Ω–æ—Ä–º–∞–ª–∏–∑–∞—Ü–∏—é –¥–ª—è –∫–ª–∏–µ–Ω—Ç–∞

3. **–ù–∞—Å—Ç—Ä–æ–∏—Ç—å –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è**
   - –°–æ–∑–¥–∞—Ç—å `frontend/.env.local` —Å `SERVICE_DB_NAME`
   - –£–±–µ–¥–∏—Ç—å—Å—è, —á—Ç–æ `BACKEND_URL` –ø—Ä–∞–≤–∏–ª—å–Ω—ã–π

### üü¢ –û–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ

4. **–î–æ–±–∞–≤–∏—Ç—å —Ç–µ—Å—Ç—ã**
   - Unit —Ç–µ—Å—Ç—ã –¥–ª—è –º–µ—Ç–æ–¥–æ–≤ –ë–î
   - Integration —Ç–µ—Å—Ç—ã –¥–ª—è API
   - E2E —Ç–µ—Å—Ç—ã –¥–ª—è frontend

5. **–î–æ–±–∞–≤–∏—Ç—å –≤–∞–ª–∏–¥–∞—Ü–∏—é**
   - –í–∞–ª–∏–¥–∞—Ü–∏—è –¥–∞–Ω–Ω—ã—Ö –Ω–∞ backend
   - –í–∞–ª–∏–¥–∞—Ü–∏—è —Ñ–æ—Ä–º –Ω–∞ frontend
   - –û–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫

## –ó–∞–∫–ª—é—á–µ–Ω–∏–µ

**–°—Ç–∞—Ç—É—Å**: ‚ö†Ô∏è –¢—Ä–µ–±—É–µ—Ç—Å—è –ø–µ—Ä–µ–∑–∞–ø—É—Å–∫ backend —Å–µ—Ä–≤–µ—Ä–∞

–í—Å–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω—ã –∏ –≥–æ—Ç–æ–≤—ã –∫ —Ä–∞–±–æ—Ç–µ. –ü–æ—Å–ª–µ –ø–µ—Ä–µ–∑–∞–ø—É—Å–∫–∞ backend —Å–µ—Ä–≤–µ—Ä–∞ –≤—Å–µ endpoints –¥–æ–ª–∂–Ω—ã —Ä–∞–±–æ—Ç–∞—Ç—å –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ.

**–°–ª–µ–¥—É—é—â–∏–µ —à–∞–≥–∏**:
1. –ü–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏—Ç—å backend —Å–µ—Ä–≤–µ—Ä
2. –ó–∞–ø—É—Å—Ç–∏—Ç—å `test-api.ps1` –¥–ª—è –ø—Ä–æ–≤–µ—Ä–∫–∏
3. –ü—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å UI —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç—å
4. –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —Å–æ–∑–¥–∞–Ω–∏–µ –∫–ª–∏–µ–Ω—Ç–∞ –∏ –ø—Ä–æ–µ–∫—Ç–∞
5. –ü—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å –Ω–æ—Ä–º–∞–ª–∏–∑–∞—Ü–∏—é —Å —ç—Ç–∞–ª–æ–Ω–∞–º–∏
