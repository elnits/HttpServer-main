# –§–∏–Ω–∞–ª—å–Ω–∞—è —Å–≤–æ–¥–∫–∞: Word-Based Duplicate Detection

## ‚úÖ –í—ã–ø–æ–ª–Ω–µ–Ω–æ

### 1. Backend (Go) - –†–µ–∞–ª–∏–∑–∞—Ü–∏—è
- ‚úÖ –î–æ–±–∞–≤–ª–µ–Ω —Ç–∏–ø `DuplicateTypeWordBased` –≤ `normalization/duplicate_analyzer.go`
- ‚úÖ –î–æ–±–∞–≤–ª–µ–Ω—ã –ø–æ–ª—è –≤ `DuplicateAnalyzer`:
  - `wordBasedMinCommonWords int` (–ø–æ —É–º–æ–ª—á–∞–Ω–∏—é 1)
  - `wordBasedUseStopWords bool` (–ø–æ —É–º–æ–ª—á–∞–Ω–∏—é false)
- ‚úÖ –†–µ–∞–ª–∏–∑–æ–≤–∞–Ω–∞ —Ñ—É–Ω–∫—Ü–∏—è `tokenizeWithOptions()` –¥–ª—è –≥–∏–±–∫–æ–π —Ç–æ–∫–µ–Ω–∏–∑–∞—Ü–∏–∏
- ‚úÖ –†–µ–∞–ª–∏–∑–æ–≤–∞–Ω –º–µ—Ç–æ–¥ `findWordBasedDuplicates()` –¥–ª—è –≥—Ä—É–ø–ø–∏—Ä–æ–≤–∫–∏ –ø–æ —Å–ª–æ–≤–∞–º
- ‚úÖ –î–æ–±–∞–≤–ª–µ–Ω –º–µ—Ç–æ–¥ `AnalyzeWordBasedDuplicates()` –¥–ª—è –æ—Ç–¥–µ–ª—å–Ω–æ–≥–æ –≤—ã–∑–æ–≤–∞
- ‚úÖ –ò–Ω—Ç–µ–≥—Ä–∏—Ä–æ–≤–∞–Ω –≤ `AnalyzeDuplicates()` (–∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –≤—ã–ø–æ–ª–Ω—è–µ—Ç—Å—è)
- ‚úÖ –û–±–Ω–æ–≤–ª–µ–Ω API endpoint `/api/quality/duplicates` –¥–ª—è –≤–æ–∑–≤—Ä–∞—Ç–∞ –ø–æ–ª–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö —ç–ª–µ–º–µ–Ω—Ç–æ–≤
- ‚úÖ –î–æ–±–∞–≤–ª–µ–Ω–∞ —Ñ—É–Ω–∫—Ü–∏—è `getStringValue()` –¥–ª—è —Ä–∞–±–æ—Ç—ã —Å `sql.NullString`
- ‚úÖ –ò—Å–ø—Ä–∞–≤–ª–µ–Ω—ã –æ—à–∏–±–∫–∏ –∫–æ–º–ø–∏–ª—è—Ü–∏–∏ –≤ `normalization/ai_mock.go`

### 2. Frontend (TypeScript/React) - –û—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ
- ‚úÖ –î–æ–±–∞–≤–ª–µ–Ω–∞ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è –¥–ª—è `word_based` –≤ `methodConfig`:
  - –ú–µ—Ç–∫–∞: "–ì—Ä—É–ø–ø–∏—Ä–æ–≤–∫–∞ –ø–æ —Å–ª–æ–≤–∞–º"
  - –¶–≤–µ—Ç: –∑–µ–ª–µ–Ω—ã–π (`bg-green-500`)
  - –ò–∫–æ–Ω–∫–∞: üü¢
- ‚úÖ –û–±–Ω–æ–≤–ª–µ–Ω –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å `DuplicateGroup` –¥–ª—è –ø–æ–¥–¥–µ—Ä–∂–∫–∏:
  - `duplicate_type` (–æ—Å–Ω–æ–≤–Ω–æ–µ –ø–æ–ª–µ)
  - `reason` (–ø—Ä–∏—á–∏–Ω–∞ –≥—Ä—É–ø–ø–∏—Ä–æ–≤–∫–∏)
  - `item_ids` –∏ `items` (–¥–∞–Ω–Ω—ã–µ —ç–ª–µ–º–µ–Ω—Ç–æ–≤)
- ‚úÖ –û–±–Ω–æ–≤–ª–µ–Ω–∞ —Ñ—É–Ω–∫—Ü–∏—è `getMethodBadge()` –¥–ª—è –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è `duplicate_type`
- ‚úÖ –î–æ–±–∞–≤–ª–µ–Ω–æ –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ `reason` –≤ –≤–∏–¥–µ –±–µ–π–¥–∂–∞
- ‚úÖ –î–æ–±–∞–≤–ª–µ–Ω–∞ –ø–æ–¥–¥–µ—Ä–∂–∫–∞ —Ç–∏–ø–∞ `mixed`

### 3. –¢–µ—Å—Ç—ã
- ‚úÖ –°–æ–∑–¥–∞–Ω —Ñ–∞–π–ª `normalization/duplicate_analyzer_test.go` —Å 8 —Ç–µ—Å—Ç–∞–º–∏:
  - `TestFindWordBasedDuplicates` - –±–∞–∑–æ–≤–∞—è —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç—å
  - `TestFindWordBasedDuplicatesWithStopWords` - —Ä–∞–±–æ—Ç–∞ —Å–æ —Å—Ç–æ–ø-—Å–ª–æ–≤–∞–º–∏
  - `TestFindWordBasedDuplicatesMinWords` - —Ä–∞–∑–Ω—ã–µ –∑–Ω–∞—á–µ–Ω–∏—è –º–∏–Ω–∏–º–∞–ª—å–Ω–æ–≥–æ –∫–æ–ª–∏—á–µ—Å—Ç–≤–∞ —Å–ª–æ–≤
  - `TestAnalyzeWordBasedDuplicates` - –æ—Ç–¥–µ–ª—å–Ω—ã–π –º–µ—Ç–æ–¥ –∞–Ω–∞–ª–∏–∑–∞
  - `TestAnalyzeDuplicatesIntegration` - –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è –≤ –æ–±—â–∏–π –∞–Ω–∞–ª–∏–∑
  - `TestTokenizeWithOptions` - —Ñ—É–Ω–∫—Ü–∏—è —Ç–æ–∫–µ–Ω–∏–∑–∞—Ü–∏–∏
  - `TestWordBasedEmptyNames` - –æ–±—Ä–∞–±–æ—Ç–∫–∞ –ø—É—Å—Ç—ã—Ö –Ω–∞–∑–≤–∞–Ω–∏–π
  - `TestWordBasedSingleWord` - –æ–±—Ä–∞–±–æ—Ç–∫–∞ —ç–ª–µ–º–µ–Ω—Ç–æ–≤ —Å –æ–¥–Ω–∏–º —Å–ª–æ–≤–æ–º
- ‚úÖ –í—Å–µ —Ç–µ—Å—Ç—ã –ø—Ä–æ—Ö–æ–¥—è—Ç —É—Å–ø–µ—à–Ω–æ

### 4. –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è
- ‚úÖ `WORD_BASED_DUPLICATES_DISPLAY.md` - –æ–ø–∏—Å–∞–Ω–∏–µ –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏—è –Ω–∞ —Ñ—Ä–æ–Ω—Ç–µ–Ω–¥–µ
- ‚úÖ `REBUILD_INSTRUCTIONS.md` - –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏—è –ø–æ –ø–µ—Ä–µ—Å–±–æ—Ä–∫–µ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–æ–≤
- ‚úÖ `DEPLOYMENT_CHECKLIST.md` - —á–µ–∫–ª–∏—Å—Ç –≥–æ—Ç–æ–≤–Ω–æ—Å—Ç–∏ –∫ –¥–µ–ø–ª–æ—é
- ‚úÖ –û–±–Ω–æ–≤–ª–µ–Ω—ã –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–∏ –≤ –∫–æ–¥–µ —Å –ø—Ä–∏–º–µ—Ä–∞–º–∏ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è

### 5. –°–∫—Ä–∏–ø—Ç—ã –∏ –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç—ã
- ‚úÖ `rebuild-containers.ps1` - —Å–∫—Ä–∏–ø—Ç –¥–ª—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–π –ø–µ—Ä–µ—Å–±–æ—Ä–∫–∏ Docker –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–æ–≤
- ‚úÖ `start-without-docker.ps1` - —Å–∫—Ä–∏–ø—Ç –¥–ª—è –∑–∞–ø—É—Å–∫–∞ –±–µ–∑ Docker

## üéØ –ö–∞–∫ —ç—Ç–æ —Ä–∞–±–æ—Ç–∞–µ—Ç

### –ê–ª–≥–æ—Ä–∏—Ç–º –≥—Ä—É–ø–ø–∏—Ä–æ–≤–∫–∏ –ø–æ —Å–ª–æ–≤–∞–º

1. **–ò–∑–≤–ª–µ—á–µ–Ω–∏–µ —Å–ª–æ–≤**: –î–ª—è –∫–∞–∂–¥–æ–≥–æ —ç–ª–µ–º–µ–Ω—Ç–∞ –∏–∑–≤–ª–µ–∫–∞—é—Ç—Å—è —Å–ª–æ–≤–∞ –∏–∑ `NormalizedName`
2. **–û–±—Ä–∞—Ç–Ω—ã–π –∏–Ω–¥–µ–∫—Å**: –°—Ç—Ä–æ–∏—Ç—Å—è –∏–Ω–¥–µ–∫—Å `—Å–ª–æ–≤–æ ‚Üí —Å–ø–∏—Å–æ–∫ —ç–ª–µ–º–µ–Ω—Ç–æ–≤`
3. **–ì—Ä—É–ø–ø–∏—Ä–æ–≤–∫–∞**: –≠–ª–µ–º–µ–Ω—Ç—ã –≥—Ä—É–ø–ø–∏—Ä—É—é—Ç—Å—è –ø–æ –æ–±—â–∏–º —Å–ª–æ–≤–∞–º (–º–∏–Ω–∏–º—É–º `wordBasedMinCommonWords`)
4. **–í—ã—á–∏—Å–ª–µ–Ω–∏–µ —Å—Ö–æ–∂–µ—Å—Ç–∏**: `similarity = –æ–±—â–∏–µ_—Å–ª–æ–≤–∞ / —É–Ω–∏–∫–∞–ª—å–Ω—ã–µ_—Å–ª–æ–≤–∞`
5. **–§–æ—Ä–º–∏—Ä–æ–≤–∞–Ω–∏–µ –≥—Ä—É–ø–ø**: –°–æ–∑–¥–∞—é—Ç—Å—è `DuplicateGroup` —Å —Ç–∏–ø–æ–º `word_based`

### –ù–∞—Å—Ç—Ä–æ–π–∫–∏ (–ø–æ —É–º–æ–ª—á–∞–Ω–∏—é)
- `wordBasedMinCommonWords = 1` (–º–∏–Ω–∏–º—É–º 1 –æ–±—â–µ–µ —Å–ª–æ–≤–æ)
- `wordBasedUseStopWords = false` (—Å—Ç–æ–ø-—Å–ª–æ–≤–∞ –∏—Å–∫–ª—é—á–∞—é—Ç—Å—è)

### –û—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ –Ω–∞ —Ñ—Ä–æ–Ω—Ç–µ–Ω–¥–µ
- üü¢ –ó–µ–ª–µ–Ω—ã–π –±–µ–π–¥–∂ "–ì—Ä—É–ø–ø–∏—Ä–æ–≤–∫–∞ –ø–æ —Å–ª–æ–≤–∞–º"
- –ü—Ä–æ—Ü–µ–Ω—Ç —Å—Ö–æ–∂–µ—Å—Ç–∏ (—Ü–≤–µ—Ç–Ω–æ–π –±–µ–π–¥–∂)
- –ö–æ–ª–∏—á–µ—Å—Ç–≤–æ –∑–∞–ø–∏—Å–µ–π –≤ –≥—Ä—É–ø–ø–µ
- –ü—Ä–∏—á–∏–Ω–∞ –≥—Ä—É–ø–ø–∏—Ä–æ–≤–∫–∏ (—Å–ø–∏—Å–æ–∫ –æ–±—â–∏—Ö —Å–ª–æ–≤)
- –ü–æ–ª–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ –≤—Å–µ—Ö —ç–ª–µ–º–µ–Ω—Ç–æ–≤

## üì¶ –ì–æ—Ç–æ–≤–Ω–æ—Å—Ç—å –∫ –¥–µ–ø–ª–æ—é

### Backend
- ‚úÖ –ö–æ–¥ –∫–æ–º–ø–∏–ª–∏—Ä—É–µ—Ç—Å—è –±–µ–∑ –æ—à–∏–±–æ–∫
- ‚úÖ –í—Å–µ —Ç–µ—Å—Ç—ã –ø—Ä–æ—Ö–æ–¥—è—Ç
- ‚úÖ Dockerfile –≥–æ—Ç–æ–≤ –∫ –ø–µ—Ä–µ—Å–±–æ—Ä–∫–µ
- ‚úÖ API endpoint –æ–±–Ω–æ–≤–ª–µ–Ω

### Frontend
- ‚úÖ TypeScript –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å—ã –æ–±–Ω–æ–≤–ª–µ–Ω—ã
- ‚úÖ –ö–æ–º–ø–æ–Ω–µ–Ω—Ç—ã –≥–æ—Ç–æ–≤—ã –∫ –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏—é
- ‚úÖ Dockerfile –≥–æ—Ç–æ–≤ –∫ –ø–µ—Ä–µ—Å–±–æ—Ä–∫–µ

### Docker
- ‚è≥ –û–∂–∏–¥–∞–Ω–∏–µ –≥–æ—Ç–æ–≤–Ω–æ—Å—Ç–∏ Docker daemon
- ‚úÖ –°–∫—Ä–∏–ø—Ç—ã –¥–ª—è –ø–µ—Ä–µ—Å–±–æ—Ä–∫–∏ —Å–æ–∑–¥–∞–Ω—ã
- ‚úÖ –ò–Ω—Å—Ç—Ä—É–∫—Ü–∏–∏ —Å–æ–∑–¥–∞–Ω—ã

## üöÄ –°–ø–æ—Å–æ–±—ã –∑–∞–ø—É—Å–∫–∞

### –í–∞—Ä–∏–∞–Ω—Ç 1: Docker (–∫–æ–≥–¥–∞ –±—É–¥–µ—Ç –≥–æ—Ç–æ–≤)
```powershell
.\rebuild-containers.ps1
```

### –í–∞—Ä–∏–∞–Ω—Ç 2: –ë–µ–∑ Docker
```powershell
.\start-without-docker.ps1
```

### –í–∞—Ä–∏–∞–Ω—Ç 3: –í—Ä—É—á–Ω—É—é
```powershell
# Backend
go build -tags no_gui -o httpserver.exe .
.\httpserver.exe

# Frontend (–≤ –æ—Ç–¥–µ–ª—å–Ω–æ–º —Ç–µ—Ä–º–∏–Ω–∞–ª–µ)
cd app
npm run dev
```

## üìä –ü—Ä–∏–º–µ—Ä—ã –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è

### –ü—Ä–æ–≥—Ä–∞–º–º–Ω–æ–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ

```go
// –° –Ω–∞—Å—Ç—Ä–æ–π–∫–∞–º–∏ –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é
analyzer := normalization.NewDuplicateAnalyzer()
groups := analyzer.AnalyzeDuplicates(items)

// –¢–æ–ª—å–∫–æ word-based –∞–Ω–∞–ª–∏–∑
wordGroups := analyzer.AnalyzeWordBasedDuplicates(items)

// –° –∫–∞—Å—Ç–æ–º–Ω—ã–º–∏ –Ω–∞—Å—Ç—Ä–æ–π–∫–∞–º–∏
analyzer.wordBasedMinCommonWords = 2
analyzer.wordBasedUseStopWords = true
groups := analyzer.AnalyzeDuplicates(items)
```

### API –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ

```bash
# –ü–æ–ª—É—á–∏—Ç—å –≤—Å–µ –¥—É–±–ª–∏–∫–∞—Ç—ã (–≤–∫–ª—é—á–∞—è word_based)
GET /api/quality/duplicates?database=1&unmerged=true

# –û—Ç–≤–µ—Ç –±—É–¥–µ—Ç —Å–æ–¥–µ—Ä–∂–∞—Ç—å –≥—Ä—É–ø–ø—ã —Å duplicate_type: "word_based"
```

## üîç –ü—Ä–æ–≤–µ—Ä–∫–∞ —Ä–∞–±–æ—Ç—ã

1. **Backend**: `curl http://localhost:9999/health`
2. **Frontend**: –û—Ç–∫—Ä–æ–π—Ç–µ http://localhost:3000/quality/duplicates?database=<id>
3. **–ü—Ä–æ–≤–µ—Ä–∫–∞ word-based –¥—É–±–ª–∏–∫–∞—Ç–æ–≤**: –ò—â–∏—Ç–µ –≥—Ä—É–ø–ø—ã —Å –∑–µ–ª–µ–Ω—ã–º –±–µ–π–¥–∂–µ–º üü¢

## üìù –§–∞–π–ª—ã –∏–∑–º–µ–Ω–µ–Ω–∏–π

### Backend
- `normalization/duplicate_analyzer.go` - –æ—Å–Ω–æ–≤–Ω–∞—è —Ä–µ–∞–ª–∏–∑–∞—Ü–∏—è
- `normalization/duplicate_analyzer_test.go` - —Ç–µ—Å—Ç—ã
- `normalization/ai_mock.go` - –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è –∫–æ–º–ø–∏–ª—è—Ü–∏–∏
- `server/server_quality.go` - –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ API

### Frontend
- `app/quality/duplicates/page.tsx` - –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–∞

### –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è
- `WORD_BASED_DUPLICATES_DISPLAY.md`
- `REBUILD_INSTRUCTIONS.md`
- `DEPLOYMENT_CHECKLIST.md`
- `FINAL_SUMMARY.md` (—ç—Ç–æ—Ç —Ñ–∞–π–ª)

### –°–∫—Ä–∏–ø—Ç—ã
- `rebuild-containers.ps1`
- `start-without-docker.ps1`

## ‚ú® –†–µ–∑—É–ª—å—Ç–∞—Ç

–§—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç—å word-based duplicate detection –ø–æ–ª–Ω–æ—Å—Ç—å—é —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω–∞, –ø—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∞ –∏ –≥–æ—Ç–æ–≤–∞ –∫ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—é. –ü–æ—Å–ª–µ –ø–µ—Ä–µ—Å–±–æ—Ä–∫–∏ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–æ–≤ –∏–ª–∏ –∑–∞–ø—É—Å–∫–∞ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è, –¥—É–±–ª–∏–∫–∞—Ç—ã –±—É–¥—É—Ç –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –Ω–∞—Ö–æ–¥–∏—Ç—å—Å—è –ø–æ –æ–±—â–∏–º —Å–ª–æ–≤–∞–º –∏ –æ—Ç–æ–±—Ä–∞–∂–∞—Ç—å—Å—è –Ω–∞ —Ñ—Ä–æ–Ω—Ç–µ–Ω–¥–µ —Å —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É—é—â–∏–º–∏ –≤–∏–∑—É–∞–ª—å–Ω—ã–º–∏ –∏–Ω–¥–∏–∫–∞—Ç–æ—Ä–∞–º–∏.

